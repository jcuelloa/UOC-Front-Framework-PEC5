
<h1> Nuevo Artículo - Formulario Reactivo - </h1>

<form (ngSubmit)="crearArticulo()" [formGroup]="articuloForm">
    
        <div class="form-group">
            <input class="form-control"
                 type="text"
                 name="name"
                 placeholder="Nombre del artículo"
                 formControlName="name"
                 >
           
            <div class="text-danger form-text text-muted .text-danger" *ngIf="(articuloForm.get('name')!.dirty || submitRealizado ) && articuloForm.get('name')!.invalid">
                <div *ngIf="articuloForm.get('name')!.errors?.['required']">
                    Nombre de producto obligatorio
                </div>
                <div *ngIf="articuloForm.get('name')!.errors?.['nombreArticuloValidator']">
                    <div>El nombre <strong>{{articuloForm.get('name')!.value}}</strong>  no está permitido </div>
                    <div>[prueba|fake|mock|test]</div>
                </div>
               
            </div>
            
        </div>
        <!-- ----------------------------------------------->        
        <div class="form-group">
            <input class="form-control"
                type="number"
                name="price"
                placeholder="Precio del artículo"
                formControlName="price"
                >
            <div class="text-danger form-text text-muted" *ngIf="(articuloForm.get('price')!.dirty || submitRealizado) && articuloForm.get('price')!.invalid">
                    <div *ngIf="articuloForm.get('price')!.errors?.['required']">
                        Precio de producto obligatorio
                    </div>
                    <div *ngIf="articuloForm.get('price')!.errors?.['min']">
                        Precio debe ser mayor de 0.1€
                    </div>
            </div>
        </div>
      <!-- -----------------------------------------------> 
        <div class="form-group">
            <input class="form-control "
                    type="text"
                    name="imageUrl"
                    formControlName="imageUrl"
                    placeholder="URL de la imagen"
                    >
        
            <div class="text-danger form-text text-muted" *ngIf="(articuloForm.get('imageUrl')!.dirty || submitRealizado) && articuloForm.get('imageUrl')!.invalid">
                <div *ngIf="articuloForm.get('imageUrl')!.errors?.['required']">
                    URL obligatoria
                </div>
                <div *ngIf="articuloForm.get('imageUrl')!.errors?.['pattern']">
                    URL mal formada
                </div>
            </div>
        </div>
        <!-- -----------------------------------------------> 
        <div class="form-check">
            <input class="form-check-input" 
                type="checkbox"
                name="isOnSale"
                formControlName="isOnSale">
                El artículo está a la venta
        </div>
        <br>
        <button type="submit" class="btn btn-primary">Crear articulo</button>
    
    
  </form>
 
  <br>
  <h4 *ngIf="nuevoArticulo">Nuevo articulo===>{{nuevoArticulo | json}}</h4>
